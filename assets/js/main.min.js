function openMenu(a,b){$(".p-menu").addClass("p-menu_isActive"),$("body").addClass("modal_open"),$(".p-menu__item").each(function(){$(this).removeClass("p-menu__item_isActive")}),$(".p-menu__header button:nth-child("+b+")").addClass("p-menu__item_isActive"),$(".p-menu__content object").replaceWith('<object data="'+a+'" type="application/pdf" width="100%" height="100%"><div class="p-menu__legacy"><p>Чтобы просмотреть меню, в вашем браузере должно быть установлено дополнение для открытия PDF и разрешен его запуск. Вы можете также <a class="p-menu__url" href="'+a+'" target="blank">скачать файл меню</a> и открыть его в отдельной программе.</p></div></object>'),$(".p-menu__url").each(function(){$(this).attr("href",a)})}function hidePopupMenu(){$(".p-menu").removeClass("p-menu_isActive"),$("body").removeClass("modal_open")}function hideSoon(){$(".soon").removeClass("soon_isActive")}function headerScroll(){var a=window.pageYOffset||document.documentElement.scrollTop;0==a?$(".header").removeClass("header_scrolled"):$(".header").addClass("header_scrolled")}function rememberUserData(a,b,c,d,e){localStorage.setItem("remember","1"),""!=a&&void 0!=a&&localStorage.setItem("name",a),""!=b&&void 0!=b&&localStorage.setItem("phone",b),""!=c&&void 0!=c&&localStorage.setItem("email",c),""!=d&&void 0!=d&&localStorage.setItem("organisation",d),""!=e&&void 0!=e&&localStorage.setItem("position",e)}function fillUserData(a){null!=localStorage.getItem("remember")&&($(".formRemember").each(function(){$(this).addClass("formRemember__isActive")}),null!=a&&"book"!=a||(null!=localStorage.getItem("name")&&$("#f-name").val(localStorage.getItem("name")),null!=localStorage.getItem("phone")&&$("#f-phone").val(localStorage.getItem("phone")),null!=localStorage.getItem("email")&&$("#f-email").val(localStorage.getItem("email"))),null!=a&&"contact"!=a||(null!=localStorage.getItem("name")&&$("#fc-name").val(localStorage.getItem("name")),null!=localStorage.getItem("phone")&&$("#fc-phone").val(localStorage.getItem("phone")),null!=localStorage.getItem("email")&&$("#fc-email").val(localStorage.getItem("email"))),null!=a&&"footer"!=a||(null!=localStorage.getItem("name")&&$("#ff-name").val(localStorage.getItem("name")),null!=localStorage.getItem("email")&&$("#ff-email").val(localStorage.getItem("email"))),null!=a&&"reg"!=a||(null!=localStorage.getItem("name")&&$("#e-name").val(localStorage.getItem("name")),null!=localStorage.getItem("email")&&$("#e-email").val(localStorage.getItem("email")),null!=localStorage.getItem("phone")&&$("#e-phone").val(localStorage.getItem("phone")),null!=localStorage.getItem("organisation")&&$("#e-org").val(localStorage.getItem("organisation")),null!=localStorage.getItem("position")&&$("#e-position").val(localStorage.getItem("position"))),null!=a&&"book"!=a||null!=localStorage.getItem("phone")&&$("#c-phone").val(localStorage.getItem("phone")),null!=a&&"order"!=a||(null!=localStorage.getItem("name")&&$("#o-name").val(localStorage.getItem("name")),null!=localStorage.getItem("phone")&&$("#o-phone").val(localStorage.getItem("phone"))))}function resetUserData(a){$(".formRemember").each(function(){$(this).removeClass("formRemember__isActive")}),null!=a&&"book"!=a||($("#f-name").val(""),$("#f-phone").val("+7 "),$("#f-email").val("")),null!=a&&"contact"!=a||($("#fc-name").val(""),$("#fc-phone").val("+7 "),$("#fc-email").val("")),null!=a&&"reg"!=a||($("#e-name").val(""),$("#e-phone").val("+7 "),$("#e-email").val(""),$("#e-org").val(""),$("#e-position").val("")),null!=a&&"order"!=a||($("#o-name").val(""),$("#o-phone").val("+7 "))}function bringRegForm(){resetUserData("reg"),$(".eventReg").removeClass("eventReg_success"),$(".eventReg").removeClass("eventReg_pay")}function showBookForm(a,b,c,d){if($(".book_book").addClass("book_isActive"),$(".p-menu").removeClass("p-menu_isActive"),closeMenuMobile(),null!=a&&(resetBookForm(),fillUserData(),$("#f-order_"+a).prop("checked",!0)),null!=b&&null!=c&&null!=d){var e=new Date(d,c-1,b);$(".js-datepicker-bar").datepicker().data("datepicker").selectDate(e)}$("body").addClass("modal_open")}function showContactForm(a){$(".book_contact").addClass("book_isActive"),closeMenuMobile(),$("body").addClass("modal_open")}function hideBookForm(){$(".book_book").removeClass("book_isActive"),$("body").removeClass("modal_open"),setTimeout(function(){$(".book_book").removeClass("book_success")},400)}function hideContactForm(){$(".book_contact").removeClass("book_isActive"),$("body").removeClass("modal_open"),setTimeout(function(){$(".book_contact").removeClass("book_success")},400)}function resetBookForm(){$(".bookForm")[0].reset(),$(".bookForm__button button").removeClass("btn_loading"),$(".bookForm__button button").prop("disabled",!1),$(".bookFormGroup").each(function(){$(this).removeClass("bookFormGroup_invalid")}),$(".bookFormGroup__dateTime").each(function(){$(this).removeClass("bookFormGroup_invalid")}),$(".bookFormSection").each(function(){$(this).removeClass("bookFormGroup_invalid")})}function successBookForm(a,b,c,d,e,f,g){var h="",i=[],j=[];"en"==g?(j[0]="have reserved a&nbsp;table at&nbsp;the bar for&nbsp;",j[1]="have reserved the Space Hall for&nbsp;",j[2]="made a&nbsp;request for delivery of&nbsp;business lunches to&nbsp;your office",j[3]="subscribed for our digest"):(j[0]="забронировали столик в&nbsp;баре на&nbsp;",j[1]="оставили заявку на&nbsp;аренду зала в&nbsp;&laquo;Пространстве&raquo; на&nbsp;",j[2]="оставили заявку на&nbsp;доставку бизнес-ланчей в&nbsp;офис",j[3]="подписались на&nbsp;наш дайджест");var k="",l="";window.navigator.userAgent;if(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1||"en"==g)""!=a&&""!=b&&(k=a.toString()+", "+b.toString()),""!=c&&""!=d&&(l=c.toString()+", "+d.toString());else{var m,n={month:"long",day:"numeric"};""!=a&&""!=b&&(m=a.split("."),k=new Date(m[2],m[1]-1,m[0]).toLocaleString("ru",n).replace(" ","&nbsp;")+", "+b.toString()),""!=c&&""!=d&&(m=c.split("."),l=new Date(m[2],m[1]-1,m[0]).toLocaleString("ru",n).replace(" ","&nbsp;")+", "+d.toString())}""!=k&&i.push(j[0]+k),""!=l&&i.push(j[1]+l),""!=e&&i.push(j[2]),""!=f&&i.push(j[3]);var o,p=i.length;for(o=0;o<p-1;++o)h+=i[o]+"; ";h+=i[p-1],$("#bookSuccess_text").html(h),$(".book_book").addClass("book_success"),resetBookForm(),fillUserData("book")}function autoGrowTextArea(a){a.style.height="67px",a.style.height=a.scrollHeight+"px"}function hideCatalog(){$(".cookSidebar").removeClass("cookSidebar_isActive"),$(".cookNavTrigger").removeClass("cookNavTrigger_isActive")}function toggleCatalog(){$(".cookSidebar").hasClass("cookSidebar_isActive")?hideCatalog():($(".cookSidebar").addClass("cookSidebar_isActive"),$(".cookNavTrigger").addClass("cookNavTrigger_isActive"))}function setCallbackPosition(a,b){var c=$(a).offset(),d=$(a).width(),e=$(a).height();c_width=$(".callback").width(),c_height=$(".callback").height(),w_width=$(window).width();var f=c.left+d/2,g=c.top+e/2,h=f-c_width/2-d/4,i=0;$(".callback").removeClass("callback_left"),$(".callback").removeClass("callback_right"),h<0&&(h=0,$(".callback").addClass("callback_left")),h+1.5*c_width>w_width+60&&(h=w_width-1.5*c_width,$(".callback").addClass("callback_right")),i=b?g:g-2*c_height,$(".callback").css("top",i),$(".callback").css("left",h)}function closeMenuMobile(){$(".hamburger").removeClass("is-active"),$(".header__nav").removeClass("header__nav_isActive"),$(".book_book").hasClass("book_isActive")||$(".book_contact").hasClass("book_isActive")||$("body").removeClass("modal_open")}function hideAllGoods(){document.body.classList.remove("good_open");var a=document.querySelectorAll(".good");null!=a&&a.forEach(function(a,b,c){a.classList.contains("good_isActive")&&(a.classList.remove("good_isActive"),a.classList.add("good_isInactive"))})}function removeUtms(){if(history.replaceState){var a=window.location,b=a.toString(),c=getStrippedUrl(b);if(c==b)return;history.replaceState(void 0,void 0,c)}}function getStrippedUrl(a){return a.indexOf("utm_")>a.indexOf("?")&&(a=a.replace(/([\?\&]utm_(reader|source|medium|campaign|content|term)=[^&#]+)/gi,"")),a.indexOf("&")!=-1&&a.indexOf("?")==-1&&(a=a.replace("&","?")),a}function updownResize(){updownElem.style.width=String((window.innerWidth-1200)/2)+"px"}function getCartData(){return JSON.parse(localStorage.getItem("cart"))}function setCartData(a){return localStorage.setItem("cart",JSON.stringify(a)),!1}function addToCart(a,b){var c=$(this);null!=b&&(c=$(b));var d=getCartData()||{},e=c.data("id"),f=c.data("sid"),g=c.data("title"),h=c.data("price"),i=c.data("caption"),j=c.data("image");return d.hasOwnProperty(e)?0==d[e][2]?d[e]=[f,g,1,h,i,j]:d[e][2]+=1:d[e]=[f,g,1,h,i,j],setCartData(d)?console.log("Не удалось обновить корзину"):updateCart(),!1}function plusToCart(){var a=$(this),b=getCartData()||{},c=a.data("id");return b.hasOwnProperty(c)?(b[c][2]+=1,setCartData(b)?console.log("Не удалось обновить корзину"):updateCart(),!1):(console.log("Товара нет в корзине"),!1)}function minusToCart(){var a=$(this),b=getCartData()||{},c=a.data("id");return b.hasOwnProperty(c)?0==b[c][2]?(console.log("Товара 0 в корзине"),!1):(b[c][2]-=1,setCartData(b)?console.log("Не удалось обновить корзину"):updateCart(),!1):(console.log("Товара нет в корзине"),!1)}function removeFromCart(){var a=$(this),b=getCartData()||{},c=a.data("id");return b.hasOwnProperty(c)?(b[c][2]=0,void(setCartData(b)?console.log("Не удалось обновить корзину"):updateCart())):(console.log("Товара нет в корзине"),!1)}function updateCart(a){var b=getCartData(),c=0,d=0,e=$(".js-cart-items"),f="",g=[];if(null!==b){for(var h in b){var i=h,j=b[h][2];if($("#count-"+i).val(j),$("#m-count-"+i).val(j),0!=j){$("#good-"+i).addClass("good_isOnCart"),d++;var k=b[h][3];c+=j*k,g.push(b[h][0]),f+=e.hasClass("cart__items")?'<li class="cart-item">\t<div class="cart-item__image" style="background-image:url(\''+b[h][5]+'\')"></div>\t<div class="cart-item__heading">\t\t<div class="cart-item__title"><p>'+b[h][1]+'</p></div>\t\t<div class="cart-item__caption"><p>'+b[h][4]+" | "+k+'&nbsp;Р</p></div>\t</div>\t<div class="cart-item__buttons">\t\t<button class="btn-minus js-cart-minus n-cart-minus" data-id="'+i+'"><p>–</p></button><!--\t--><input class="btn-count" id="count-'+i+'" type="text" disabled="" value="'+j+'" maxlength="3"><!--\t--><button class="btn-plus js-cart-plus n-cart-plus" data-id="'+i+'"><p>+</p></button>\t</div>\t<div class="cart-item__price"><p>'+j*k+'&nbsp;Р</p></div>\t<div class="cart-item__remove"><button class="js-cart-rm n-cart-rm" data-id="'+i+'"><p>×</p></button></div></li>':'<li class="minicart__item">\t<div class="minicartItem__title"><p>'+b[h][1]+'</p></div>\t<div class="minicartItem__buttons">\t\t<button class="btn-minus js-cart-minus n-cart-minus" data-id="'+i+'"><p>–</p></button><!--\t--><input class="btn-count" id="m-count-'+i+'" type="text" disabled="" value="'+j+'" maxlength="3"><!--\t--><button class="btn-plus js-cart-plus n-cart-plus" data-id="'+i+'"><p>+</p></button>\t</div>\t<div class="minicartItem__price"><p>'+k+'&nbsp;Р</p></div>\t<div class="minicartItem__remove"><button class="js-cart-rm n-cart-rm" data-id="'+i+'"><p>×</p></button></div></li>'}else $("#good-"+i).removeClass("good_isOnCart")}e.html(f),$(".minicart__count").html(d),$(".js-cart-total").each(function(){$(this).html(c)}),cartTotal=c,0==c?($(".cart__empty").addClass("cart__empty_isActive"),$(".order-form__title").css("display","none"),$(".order-form").css("display","none"),$(".js-checkout").css("display","none"),$(".minicart").removeClass("minicart_notEmpty")):($(".cart__empty").removeClass("cart__empty_isActive"),$(".order-form__title").css("display","block"),$(".order-form").css("display","block"),$(".js-checkout").css("display","block"),$(".minicart").addClass("minicart_notEmpty"),$(".n-cart-plus").on("click",plusToCart),$(".n-cart-minus").on("click",minusToCart),$(".n-cart-rm").on("click",removeFromCart))}}function clearCart(){var a=getCartData();if(null!==a){for(var b in a)a[b][2]=0;setCartData(a)}}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery||Zepto)}(function(a){var b=function(b,c,d){var e={invalid:[],getCaret:function(){try{var a,c=0,d=b.get(0),f=document.selection,g=d.selectionStart;return f&&-1===navigator.appVersion.indexOf("MSIE 10")?(a=f.createRange(),a.moveStart("character",-e.val().length),c=a.text.length):(g||"0"===g)&&(c=g),c}catch(h){}},setCaret:function(a){try{if(b.is(":focus")){var c,d=b.get(0);d.setSelectionRange?(d.focus(),d.setSelectionRange(a,a)):(c=d.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select())}}catch(e){}},events:function(){b.on("keydown.mask",function(a){b.data("mask-keycode",a.keyCode||a.which)}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",e.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},100)}).on("change.mask",function(){b.data("changed",!0)}).on("blur.mask",function(){h===e.val()||b.data("changed")||b.trigger("change"),b.data("changed",!1)}).on("blur.mask",function(){h=e.val()}).on("focus.mask",function(b){!0===d.selectOnFocus&&a(b.target).select()}).on("focusout.mask",function(){d.clearIfNotMatch&&!f.test(e.val())&&e.val("")})},getRegexMask:function(){for(var a,b,d,e,f=[],h=0;h<c.length;h++)(a=g.translation[c.charAt(h)])?(b=a.pattern.toString().replace(/.{1}$|^.{1}/g,""),d=a.optional,(a=a.recursive)?(f.push(c.charAt(h)),e={digit:c.charAt(h),pattern:b}):f.push(d||a?b+"?":b)):f.push(c.charAt(h).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return f=f.join(""),e&&(f=f.replace(new RegExp("("+e.digit+"(.*"+e.digit+")?)"),"($1)?").replace(new RegExp(e.digit,"g"),e.pattern)),new RegExp(f)},destroyEvents:function(){b.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(a){var c=b.is("input")?"val":"text";return 0<arguments.length?(b[c]()!==a&&b[c](a),c=b):c=b[c](),c},getMCharsBeforeCount:function(a,b){for(var d=0,e=0,f=c.length;e<f&&e<a;e++)g.translation[c.charAt(e)]||(a=b?a+1:a,d++);return d},caretPos:function(a,b,d,f){return g.translation[c.charAt(Math.min(a-1,c.length-1))]?Math.min(a+d-b-f,d):e.caretPos(a+1,b,d,f)},behaviour:function(c){c=c||window.event,e.invalid=[];var d=b.data("mask-keycode");if(-1===a.inArray(d,g.byPassKeys)){var f=e.getCaret(),h=e.val().length,i=e.getMasked(),j=i.length,k=e.getMCharsBeforeCount(j-1)-e.getMCharsBeforeCount(h-1),l=f<h;return e.val(i),l&&(8!==d&&46!==d&&(f=e.caretPos(f,h,j,k)),e.setCaret(f)),e.callbacks(c)}},getMasked:function(a,b){var f,h,i=[],j=void 0===b?e.val():b+"",k=0,l=c.length,m=0,n=j.length,o=1,p="push",q=-1;for(d.reverse?(p="unshift",o=-1,f=0,k=l-1,m=n-1,h=function(){return-1<k&&-1<m}):(f=l-1,h=function(){return k<l&&m<n});h();){var r=c.charAt(k),s=j.charAt(m),t=g.translation[r];t?(s.match(t.pattern)?(i[p](s),t.recursive&&(-1===q?q=k:k===f&&(k=q-o),f===q&&(k-=o)),k+=o):t.optional?(k+=o,m-=o):t.fallback?(i[p](t.fallback),k+=o,m-=o):e.invalid.push({p:m,v:s,e:t.pattern}),m+=o):(a||i[p](r),s===r&&(m+=o),k+=o)}return j=c.charAt(f),l!==n+1||g.translation[j]||i.push(j),i.join("")},callbacks:function(a){var f=e.val(),g=f!==h,i=[f,a,b,d],j=function(a,b,c){"function"==typeof d[a]&&b&&d[a].apply(this,c)};j("onChange",!0===g,i),j("onKeyPress",!0===g,i),j("onComplete",f.length===c.length,i),j("onInvalid",0<e.invalid.length,[f,a,b,e.invalid,d])}};b=a(b);var f,g=this,h=e.val();c="function"==typeof c?c(e.val(),void 0,b,d):c,g.mask=c,g.options=d,g.remove=function(){var a=e.getCaret();return e.destroyEvents(),e.val(g.getCleanVal()),e.setCaret(a-e.getMCharsBeforeCount(a)),b},g.getCleanVal=function(){return e.getMasked(!0)},g.getMaskedVal=function(a){return e.getMasked(!1,a)},g.init=function(c){c=c||!1,d=d||{},g.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch,g.byPassKeys=a.jMaskGlobals.byPassKeys,g.translation=a.extend({},a.jMaskGlobals.translation,d.translation),g=a.extend(!0,{},g,d),f=e.getRegexMask(),!1===c?(d.placeholder&&b.attr("placeholder",d.placeholder),b.data("mask")&&b.attr("autocomplete","off"),e.destroyEvents(),e.events(),c=e.getCaret(),e.val(e.getMasked()),e.setCaret(c+e.getMCharsBeforeCount(c,!0))):(e.events(),e.val(e.getMasked()))},g.init(!b.is("input"))};a.maskWatchers={};var c=function(){var c=a(this),e={},f=c.attr("data-mask");if(c.attr("data-mask-reverse")&&(e.reverse=!0),c.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===c.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),d(c,f,e))return c.data("mask",new b(this,f,e))},d=function(b,c,d){d=d||{};var e=a(b).data("mask"),f=JSON.stringify;b=a(b).val()||a(b).text();try{return"function"==typeof c&&(c=c(b)),"object"!=typeof e||f(e.options)!==f(d)||e.mask!==c}catch(g){}};a.fn.mask=function(c,e){e=e||{};var f=this.selector,g=a.jMaskGlobals,h=g.watchInterval,g=e.watchInputs||g.watchInputs,i=function(){if(d(this,c,e))return a(this).data("mask",new b(this,c,e))};return a(this).each(i),f&&""!==f&&g&&(clearInterval(a.maskWatchers[f]),a.maskWatchers[f]=setInterval(function(){a(document).find(f).each(i)},h)),this},a.fn.masked=function(a){return this.data("mask").getMaskedVal(a)},a.fn.unmask=function(){return clearInterval(a.maskWatchers[this.selector]),delete a.maskWatchers[this.selector],this.each(function(){var b=a(this).data("mask");b&&b.remove().removeData("mask")})},a.fn.cleanVal=function(){return this.data("mask").getCleanVal()},a.applyDataMask=function(b){b=b||a.jMaskGlobals.maskElements,(b instanceof a?b:a(b)).filter(a.jMaskGlobals.dataMaskAttr).each(c)};var e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:function(a){var b,c=document.createElement("div");return a="on"+a,b=a in c,b||(c.setAttribute(a,"return;"),b="function"==typeof c[a]),b}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{},e=a.jMaskGlobals=a.extend(!0,{},e,a.jMaskGlobals),e.dataMask&&a.applyDataMask(),setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},e.watchInterval)}),function(){var a;a=function(){function a(a,b){var c,d;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof a)for(c in a)d=a[c],this.options[c]=d;this.context=null!=b?b:this,this.unique=this._genKey()}return a.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},a.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},a.prototype.run=function(b){var c,d,e;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(e=document.createElement("script"),e.id="instafeed-fetcher",e.src=b||this._buildUrl(),c=document.getElementsByTagName("head"),c[0].appendChild(e),d="instafeedCache"+this.unique,window[d]=new a(this.options,this),window[d].unique=this.unique),!0},a.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;if("object"!=typeof a){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==a.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,a.meta.error_message),!1;throw new Error("Error from Instagram: "+a.meta.error_message)}if(0===a.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,a),this.context.nextUrl="",null!=a.pagination&&(this.context.nextUrl=a.pagination.next_url),"none"!==this.options.sortBy)switch(F="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),E="least"===F[0],F[1]){case"random":a.data.sort(function(){return.5-Math.random()});break;case"recent":a.data=this._sortBy(a.data,"created_time",E);break;case"liked":a.data=this._sortBy(a.data,"likes.count",E);break;case"commented":a.data=this._sortBy(a.data,"comments.count",E);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(q=a.data,D=parseInt(this.options.limit,10),null!=this.options.limit&&q.length>D&&(q=q.slice(0,D)),h=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(q=this._filter(q,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(j="",o="",u="",H=document.createElement("div"),l=0,z=q.length;l<z;l++){if(m=q[l],n=m.images[this.options.resolution],"object"!=typeof n)throw g="No image found for resolution: "+this.options.resolution+".",new Error(g);v=n.width,s=n.height,t="square",v>s&&(t="landscape"),v<s&&(t="portrait"),p=n.url,k=window.location.protocol.indexOf("http")>=0,k&&!this.options.useHttp&&(p=p.replace(/https?:\/\//,"//")),o=this._makeTemplate(this.options.template,{model:m,id:m.id,link:m.link,type:m.type,image:p,width:v,height:s,orientation:t,caption:this._getObjectProperty(m,"caption.text"),likes:m.likes.count,comments:m.comments.count,location:this._getObjectProperty(m,"location.name")}),j+=o}for(H.innerHTML=j,e=[],d=0,c=H.childNodes.length;d<c;)e.push(H.childNodes[d]),d+=1;for(x=0,A=e.length;x<A;x++)C=e[x],h.appendChild(C)}else for(y=0,B=q.length;y<B;y++){if(m=q[y],r=document.createElement("img"),n=m.images[this.options.resolution],"object"!=typeof n)throw g="No image found for resolution: "+this.options.resolution+".",new Error(g);p=n.url,k=window.location.protocol.indexOf("http")>=0,k&&!this.options.useHttp&&(p=p.replace(/https?:\/\//,"//")),r.src=p,this.options.links===!0?(b=document.createElement("a"),b.href=m.link,b.appendChild(r),h.appendChild(b)):h.appendChild(r)}if(G=this.options.target,"string"==typeof G&&(G=document.getElementById(G)),null==G)throw g='No element with id="'+this.options.target+'" on page.',new Error(g);G.appendChild(h),i=document.getElementsByTagName("head")[0],i.removeChild(document.getElementById("instafeed-fetcher")),w="instafeedCache"+this.unique,window[w]=void 0;try{delete window[w]}catch(I){f=I}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},a.prototype._buildUrl=function(){var a,b,c;switch(a="https://api.instagram.com/v1",this.options.get){case"popular":b="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");b="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");b="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");b="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return c=a+"/"+b,c+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(c+="&count="+this.options.limit),c+="&callback=instafeedCache"+this.unique+".parse"},a.prototype._genKey=function(){var a;return a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+a()+a()+a()+a()},a.prototype._makeTemplate=function(a,b){var c,d,e,f,g;for(d=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,c=a;d.test(c);)f=c.match(d)[1],g=null!=(e=this._getObjectProperty(b,f))?e:"",c=c.replace(d,function(){return""+g});return c},a.prototype._getObjectProperty=function(a,b){var c,d;for(b=b.replace(/\[(\w+)\]/g,".$1"),d=b.split(".");d.length;){if(c=d.shift(),!(null!=a&&c in a))return null;a=a[c]}return a},a.prototype._sortBy=function(a,b,c){var d;return d=function(a,d){var e,f;return e=this._getObjectProperty(a,b),f=this._getObjectProperty(d,b),c?e>f?1:-1:e<f?1:-1},a.sort(d.bind(this)),a},a.prototype._filter=function(a,b){var c,d,e,f,g;for(c=[],d=function(a){if(b(a))return c.push(a)},e=0,g=a.length;e<g;e++)f=a[e],d(f);return c},a}(),function(a,b){return"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.Instafeed=b()}(this,function(){return a})}.call(this),!function(a){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){var b=a[0];return b.offsetWidth>0&&b.offsetHeight>0}function c(b){if(b.minTime&&(b.minTime=t(b.minTime)),b.maxTime&&(b.maxTime=t(b.maxTime)),b.durationTime&&"function"!=typeof b.durationTime&&(b.durationTime=t(b.durationTime)),"now"==b.scrollDefault)b.scrollDefault=function(){return b.roundingFunction(t(new Date),b)};else if(b.scrollDefault&&"function"!=typeof b.scrollDefault){var c=b.scrollDefault;b.scrollDefault=function(){return b.roundingFunction(t(c),b)}}else b.minTime&&(b.scrollDefault=function(){return b.roundingFunction(b.minTime,b)});if("string"===a.type(b.timeFormat)&&b.timeFormat.match(/[gh]/)&&(b._twelveHourTime=!0),b.showOnFocus===!1&&-1!=b.showOn.indexOf("focus")&&b.showOn.splice(b.showOn.indexOf("focus"),1),b.disableTimeRanges.length>0){for(var d in b.disableTimeRanges)b.disableTimeRanges[d]=[t(b.disableTimeRanges[d][0]),t(b.disableTimeRanges[d][1])];b.disableTimeRanges=b.disableTimeRanges.sort(function(a,b){return a[0]-b[0]});for(var d=b.disableTimeRanges.length-1;d>0;d--)b.disableTimeRanges[d][0]<=b.disableTimeRanges[d-1][1]&&(b.disableTimeRanges[d-1]=[Math.min(b.disableTimeRanges[d][0],b.disableTimeRanges[d-1][0]),Math.max(b.disableTimeRanges[d][1],b.disableTimeRanges[d-1][1])],b.disableTimeRanges.splice(d,1))}return b}function d(b){var c=b.data("timepicker-settings"),d=b.data("timepicker-list");if(d&&d.length&&(d.remove(),b.data("timepicker-list",!1)),c.useSelect){d=a("<select />",{"class":"ui-timepicker-select"});var g=d}else{d=a("<ul />",{"class":"ui-timepicker-list"});var g=a("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});g.css({display:"none",position:"absolute"}).append(d)}if(c.noneOption)if(c.noneOption===!0&&(c.noneOption=c.useSelect?"Time...":"None"),a.isArray(c.noneOption)){for(var i in c.noneOption)if(parseInt(i,10)==i){var k=e(c.noneOption[i],c.useSelect);d.append(k)}}else{var k=e(c.noneOption,c.useSelect);d.append(k)}c.className&&g.addClass(c.className),null===c.minTime&&null===c.durationTime||!c.showDuration||("function"==typeof c.step?"function":c.step,g.addClass("ui-timepicker-with-duration"),g.addClass("ui-timepicker-step-"+c.step));var l=c.minTime;"function"==typeof c.durationTime?l=t(c.durationTime()):null!==c.durationTime&&(l=c.durationTime);var n=null!==c.minTime?c.minTime:0,o=null!==c.maxTime?c.maxTime:n+u-1;n>o&&(o+=u),o===u-1&&"string"===a.type(c.timeFormat)&&c.show2400&&(o=u);var p=c.disableTimeRanges,v=0,x=p.length,y=c.step;"function"!=typeof y&&(y=function(){return c.step});for(var i=n,z=0;o>=i;z++,i+=60*y(z)){var A=i,B=s(A,c);if(c.useSelect){var C=a("<option />",{value:B});C.text(B)}else{var C=a("<li />");C.addClass(43200>A%86400?"ui-timepicker-am":"ui-timepicker-pm"),C.data("time",86400>=A?A:A%86400),C.text(B)}if((null!==c.minTime||null!==c.durationTime)&&c.showDuration){var D=r(i-l,c.step);if(c.useSelect)C.text(C.text()+" ("+D+")");else{var E=a("<span />",{"class":"ui-timepicker-duration"});E.text(" ("+D+")"),C.append(E)}}x>v&&(A>=p[v][1]&&(v+=1),p[v]&&A>=p[v][0]&&A<p[v][1]&&(c.useSelect?C.prop("disabled",!0):C.addClass("ui-timepicker-disabled"))),d.append(C)}if(g.data("timepicker-input",b),b.data("timepicker-list",g),c.useSelect)b.val()&&d.val(f(t(b.val()),c)),d.on("focus",function(){a(this).data("timepicker-input").trigger("showTimepicker")}),d.on("blur",function(){a(this).data("timepicker-input").trigger("hideTimepicker")}),d.on("change",function(){m(b,a(this).val(),"select")}),m(b,d.val(),"initial"),b.hide().after(d);else{var F=c.appendTo;"string"==typeof F?F=a(F):"function"==typeof F&&(F=F(b)),F.append(g),j(b,d),d.on("mousedown click","li",function(c){b.off("focus.timepicker"),b.on("focus.timepicker-ie-hack",function(){b.off("focus.timepicker-ie-hack"),b.on("focus.timepicker",w.show)}),h(b)||b[0].focus(),d.find("li").removeClass("ui-timepicker-selected"),a(this).addClass("ui-timepicker-selected"),q(b)&&(b.trigger("hideTimepicker"),d.on("mouseup.timepicker click.timepicker","li",function(a){d.off("mouseup.timepicker click.timepicker"),g.hide()}))})}}function e(b,c){var d,e,f;return"object"==typeof b?(d=b.label,e=b.className,f=b.value):"string"==typeof b?d=b:a.error("Invalid noneOption value"),c?a("<option />",{value:f,"class":e,text:d}):a("<li />",{"class":e,text:d}).data("time",String(f))}function f(a,b){return a=b.roundingFunction(a,b),null!==a?s(a,b):void 0}function g(b){if(b.target!=window){var c=a(b.target);c.closest(".ui-timepicker-input").length||c.closest(".ui-timepicker-wrapper").length||(w.hide(),a(document).unbind(".ui-timepicker"),a(window).unbind(".ui-timepicker"))}}function h(a){var b=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&b.disableTouchKeyboard}function i(b,c,d){if(!d&&0!==d)return!1;var e=b.data("timepicker-settings"),f=!1,d=e.roundingFunction(d,e);return c.find("li").each(function(b,c){var e=a(c);if("number"==typeof e.data("time"))return e.data("time")==d?(f=e,!1):void 0}),f}function j(a,b){b.find("li").removeClass("ui-timepicker-selected");var c=t(l(a),a.data("timepicker-settings"));if(null!==c){var d=i(a,b,c);if(d){var e=d.offset().top-b.offset().top;(e+d.outerHeight()>b.outerHeight()||0>e)&&b.scrollTop(b.scrollTop()+d.position().top-d.outerHeight()),d.addClass("ui-timepicker-selected")}}}function k(b,c){if(""!==this.value&&"timepicker"!=c){var d=a(this);if(!d.is(":focus")||b&&"change"==b.type){var e=d.data("timepicker-settings"),f=t(this.value,e);if(null===f)return void d.trigger("timeFormatError");var g=!1;null!==e.minTime&&f<e.minTime&&null!==e.maxTime&&f>e.maxTime&&(g=!0),a.each(e.disableTimeRanges,function(){return f>=this[0]&&f<this[1]?(g=!0,!1):void 0}),e.forceRoundTime&&(f=e.roundingFunction(f,e));var h=s(f,e);g?m(d,h,"error")&&d.trigger("timeRangeError"):m(d,h)}}}function l(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function m(a,b,c){if(a.is("input")){a.val(b);var d=a.data("timepicker-settings");d.useSelect&&"select"!=c&&"initial"!=c&&a.data("timepicker-list").val(f(t(b),d))}return a.data("ui-timepicker-value")!=b?(a.data("ui-timepicker-value",b),"select"==c?a.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=c&&a.trigger("changeTime"),!0):(a.trigger("selectTime"),!1)}function n(a){switch(a.keyCode){case 13:case 9:return;default:a.preventDefault()}}function o(c){var d=a(this),e=d.data("timepicker-list");if(!e||!b(e)){if(40!=c.keyCode)return!0;w.show.call(d.get(0)),e=d.data("timepicker-list"),h(d)||d.focus()}switch(c.keyCode){case 13:return q(d)&&w.hide.apply(this),c.preventDefault(),!1;case 38:var f=e.find(".ui-timepicker-selected");return f.length?f.is(":first-child")||(f.removeClass("ui-timepicker-selected"),f.prev().addClass("ui-timepicker-selected"),f.prev().position().top<f.outerHeight()&&e.scrollTop(e.scrollTop()-f.outerHeight())):(e.find("li").each(function(b,c){return a(c).position().top>0?(f=a(c),!1):void 0}),f.addClass("ui-timepicker-selected")),!1;case 40:
return f=e.find(".ui-timepicker-selected"),0===f.length?(e.find("li").each(function(b,c){return a(c).position().top>0?(f=a(c),!1):void 0}),f.addClass("ui-timepicker-selected")):f.is(":last-child")||(f.removeClass("ui-timepicker-selected"),f.next().addClass("ui-timepicker-selected"),f.next().position().top+2*f.outerHeight()>e.outerHeight()&&e.scrollTop(e.scrollTop()+f.outerHeight())),!1;case 27:e.find("li").removeClass("ui-timepicker-selected"),w.hide();break;case 9:w.hide();break;default:return!0}}function p(c){var d=a(this),e=d.data("timepicker-list"),f=d.data("timepicker-settings");if(!e||!b(e)||f.disableTextInput)return!0;switch(c.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:f.typeaheadHighlight?j(d,e):e.hide()}}function q(a){var b=a.data("timepicker-settings"),c=a.data("timepicker-list"),d=null,e=c.find(".ui-timepicker-selected");return!e.hasClass("ui-timepicker-disabled")&&(e.length&&(d=e.data("time")),null!==d&&("string"!=typeof d&&(d=s(d,b)),m(a,d,"select")),!0)}function r(a,b){a=Math.abs(a);var c,d,e=Math.round(a/60),f=[];return 60>e?f=[e,v.mins]:(c=Math.floor(e/60),d=e%60,30==b&&30==d&&(c+=v.decimal+5),f.push(c),f.push(1==c?v.hr:v.hrs),30!=b&&d&&(f.push(d),f.push(v.mins))),f.join(" ")}function s(b,c){if("number"!=typeof b)return null;var d=parseInt(b%60),e=parseInt(b/60%60),f=parseInt(b/3600%24),g=new Date(1970,0,2,f,e,d,0);if(isNaN(g.getTime()))return null;if("function"===a.type(c.timeFormat))return c.timeFormat(g);for(var h,i,j="",k=0;k<c.timeFormat.length;k++)switch(i=c.timeFormat.charAt(k)){case"a":j+=g.getHours()>11?v.pm:v.am;break;case"A":j+=g.getHours()>11?v.PM:v.AM;break;case"g":h=g.getHours()%12,j+=0===h?"12":h;break;case"G":h=g.getHours(),b===u&&(h=c.show2400?24:0),j+=h;break;case"h":h=g.getHours()%12,0!==h&&10>h&&(h="0"+h),j+=0===h?"12":h;break;case"H":h=g.getHours(),b===u&&(h=c.show2400?24:0),j+=h>9?h:"0"+h;break;case"i":var e=g.getMinutes();j+=e>9?e:"0"+e;break;case"s":d=g.getSeconds(),j+=d>9?d:"0"+d;break;case"\\":k++,j+=c.timeFormat.charAt(k);break;default:j+=i}return j}function t(a,b){if(""===a||null===a)return null;if("object"==typeof a)return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds();if("string"!=typeof a)return a;a=a.toLowerCase().replace(/[\s\.]/g,""),("a"==a.slice(-1)||"p"==a.slice(-1))&&(a+="m");var c="("+v.am.replace(".","")+"|"+v.pm.replace(".","")+"|"+v.AM.replace(".","")+"|"+v.PM.replace(".","")+")?",d=new RegExp("^"+c+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+c+"$"),e=a.match(d);if(!e)return null;var f=parseInt(1*e[2],10);if(f>24){if(b&&b.wrapHours===!1)return null;f%=24}var g=e[1]||e[5],h=f;if(12>=f&&g){var i=g==v.pm||g==v.PM;h=12==f?i?12:0:f+(i?12:0)}var j=1*e[3]||0,k=1*e[4]||0,l=3600*h+60*j+k;if(12>f&&!g&&b&&b._twelveHourTime&&b.scrollDefault){var m=l-b.scrollDefault();0>m&&m>=u/-2&&(l=(l+u/2)%u)}return l}var u=86400,v={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},w={init:function(b){return this.each(function(){var e=a(this),f=[];for(var g in a.fn.timepicker.defaults)e.data(g)&&(f[g]=e.data(g));var h=a.extend({},a.fn.timepicker.defaults,f,b);if(h.lang&&(v=a.extend(v,h.lang)),h=c(h),e.data("timepicker-settings",h),e.addClass("ui-timepicker-input"),h.useSelect)d(e);else{if(e.prop("autocomplete","off"),h.showOn)for(var i in h.showOn)e.on(h.showOn[i]+".timepicker",w.show);e.on("change.timepicker",k),e.on("keydown.timepicker",o),e.on("keyup.timepicker",p),h.disableTextInput&&e.on("keydown.timepicker",n),k.call(e.get(0))}})},show:function(c){var e=a(this),f=e.data("timepicker-settings");if(c&&c.preventDefault(),f.useSelect)return void e.data("timepicker-list").focus();h(e)&&e.blur();var k=e.data("timepicker-list");if(!e.prop("readonly")&&(k&&0!==k.length&&"function"!=typeof f.durationTime||(d(e),k=e.data("timepicker-list")),!b(k))){e.data("ui-timepicker-value",e.val()),j(e,k),w.hide(),k.show();var m={};f.orientation.match(/r/)?m.left=e.offset().left+e.outerWidth()-k.outerWidth()+parseInt(k.css("marginLeft").replace("px",""),10):m.left=e.offset().left+parseInt(k.css("marginLeft").replace("px",""),10);var n;n=f.orientation.match(/t/)?"t":f.orientation.match(/b/)?"b":e.offset().top+e.outerHeight(!0)+k.outerHeight()>a(window).height()+a(window).scrollTop()?"t":"b","t"==n?(k.addClass("ui-timepicker-positioned-top"),m.top=e.offset().top-k.outerHeight()+parseInt(k.css("marginTop").replace("px",""),10)):(k.removeClass("ui-timepicker-positioned-top"),m.top=e.offset().top+e.outerHeight()+parseInt(k.css("marginTop").replace("px",""),10)),k.offset(m);var o=k.find(".ui-timepicker-selected");if(!o.length){var p=t(l(e));null!==p?o=i(e,k,p):f.scrollDefault&&(o=i(e,k,f.scrollDefault()))}if(o&&o.length){var q=k.scrollTop()+o.position().top-o.outerHeight();k.scrollTop(q)}else k.scrollTop(0);return f.stopScrollPropagation&&a(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(b){b.preventDefault();var c=a(this).scrollTop();a(this).scrollTop(c+b.originalEvent.deltaY)}),a(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",g),a(window).on("resize.ui-timepicker",g),f.closeOnWindowScroll&&a(document).on("scroll.ui-timepicker",g),e.trigger("showTimepicker"),this}},hide:function(c){var d=a(this),e=d.data("timepicker-settings");return e&&e.useSelect&&d.blur(),a(".ui-timepicker-wrapper").each(function(){var c=a(this);if(b(c)){var d=c.data("timepicker-input"),e=d.data("timepicker-settings");e&&e.selectOnBlur&&q(d),c.hide(),d.trigger("hideTimepicker")}}),this},option:function(b,e){return"string"==typeof b&&"undefined"==typeof e?a(this).data("timepicker-settings")[b]:this.each(function(){var f=a(this),g=f.data("timepicker-settings"),h=f.data("timepicker-list");"object"==typeof b?g=a.extend(g,b):"string"==typeof b&&(g[b]=e),g=c(g),f.data("timepicker-settings",g),h&&(h.remove(),f.data("timepicker-list",!1)),g.useSelect&&d(f)})},getSecondsFromMidnight:function(){return t(l(this))},getTime:function(a){var b=this,c=l(b);if(!c)return null;var d=t(c);if(null===d)return null;a||(a=new Date);var e=new Date(a);return e.setHours(d/3600),e.setMinutes(d%3600/60),e.setSeconds(d%60),e.setMilliseconds(0),e},isVisible:function(){var a=this,c=a.data("timepicker-list");return!(!c||!b(c))},setTime:function(a){var b=this,c=b.data("timepicker-settings");if(c.forceRoundTime)var d=f(t(a),c);else var d=s(t(a),c);return a&&null===d&&c.noneOption&&(d=a),m(b,d),b.data("timepicker-list")&&j(b,b.data("timepicker-list")),this},remove:function(){var a=this;if(a.hasClass("ui-timepicker-input")){var b=a.data("timepicker-settings");return a.removeAttr("autocomplete","off"),a.removeClass("ui-timepicker-input"),a.removeData("timepicker-settings"),a.off(".timepicker"),a.data("timepicker-list")&&a.data("timepicker-list").remove(),b.useSelect&&a.show(),a.removeData("timepicker-list"),this}}};a.fn.timepicker=function(b){return this.length?w[b]?this.hasClass("ui-timepicker-input")?w[b].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.timepicker"):w.init.apply(this,arguments):this},a.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(a,b){if(null===a)return null;if("number"!=typeof b.step)return a;var c=a%(60*b.step);return c>=30*b.step?a+=60*b.step-c:a-=c,a==u&&b.show2400?a:a%u},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}}),!function(a,b,c){!function(){var d,e,f,g="datepicker",h=".datepicker-here",i=!1,j='<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>',k={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},l={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},m=function(a,e){this.el=a,this.$el=b(a),this.opts=b.extend(!0,{},k,e,this.$el.data()),d==c&&(d=b("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?b(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()};f=m,f.prototype={viewIndexes:["days","months","years"],init:function(){i||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new b.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.views[this.currentView]=new b.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new b.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date((-86399999136e5)),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),b(a).on("resize.adp",this._onResize.bind(this)),b("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(a){return-1!==this.opts.weekends.indexOf(a)},_defineLocale:function(a){"string"==typeof a?(this.loc=b.fn.datepicker.language[a],this.loc||(console.warn("Can't find language \""+a+'" in Datepicker.language, will use "ru" instead'),this.loc=b.extend(!0,{},b.fn.datepicker.language.ru)),this.loc=b.extend(!0,{},b.fn.datepicker.language.ru,b.fn.datepicker.language[a])):this.loc=b.extend(!0,{},b.fn.datepicker.language.ru,a),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator));var c=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(c("aa"))||this.loc.timeFormat.match(c("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){i=!0,d.append('<div class="datepickers-container" id="datepickers-container"></div>'),e=b("#datepickers-container")},_buildBaseHtml:function(){var a,c=b('<div class="datepicker-inline">');a="INPUT"==this.el.nodeName?this.opts.inline?c.insertAfter(this.$el):e:c.appendTo(this.$el),this.$datepicker=b(j).appendTo(a),this.$content=b(".datepicker--content",this.$datepicker),this.$nav=b(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(""===this._prevOnSelectValue)return;return this._prevOnSelectValue="",this.opts.onSelect("","",this)}var a,b=this.selectedDates,c=f.getParsedDate(b[0]),d=this,e=new Date(c.year,c.month,c.date,c.hours,c.minutes);a=b.map(function(a){return d.formatDate(d.loc.dateFormat,a)}).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(e=b.map(function(a){var b=f.getParsedDate(a);return new Date(b.year,b.month,b.date,b.hours,b.minutes)})),this._prevOnSelectValue=a,this.opts.onSelect(a,e,this)},next:function(){var a=this.parsedDate,b=this.opts;switch(this.view){case"days":this.date=new Date(a.year,a.month+1,1),b.onChangeMonth&&b.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(a.year+1,a.month,1),b.onChangeYear&&b.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(a.year+10,0,1),b.onChangeDecade&&b.onChangeDecade(this.curDecade)}},prev:function(){var a=this.parsedDate,b=this.opts;switch(this.view){case"days":this.date=new Date(a.year,a.month-1,1),b.onChangeMonth&&b.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(a.year-1,a.month,1),b.onChangeYear&&b.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(a.year-10,0,1),b.onChangeDecade&&b.onChangeDecade(this.curDecade)}},formatDate:function(a,b){b=b||this.date;var c,d=a,e=this._getWordBoundaryRegExp,g=this.loc,h=f.getLeadingZeroNum,i=f.getDecade(b),j=f.getParsedDate(b),k=j.fullHours,l=j.hours,m=a.match(e("aa"))||a.match(e("AA")),n="am";switch(this.opts.timepicker&&this.timepicker&&m&&(c=this.timepicker._getValidHoursFromDate(b,m),k=h(c.hours),l=c.hours,n=c.dayPeriod),!0){case/@/.test(d):d=d.replace(/@/,b.getTime());case/aa/.test(d):d=d.replace(e("aa"),n);case/AA/.test(d):d=d.replace(e("AA"),n.toUpperCase());case/dd/.test(d):d=d.replace(e("dd"),j.fullDate);case/d/.test(d):d=d.replace(e("d"),j.date);case/DD/.test(d):d=d.replace(e("DD"),g.days[j.day]);case/D/.test(d):d=d.replace(e("D"),g.daysShort[j.day]);case/mm/.test(d):d=d.replace(e("mm"),j.fullMonth);case/m/.test(d):d=d.replace(e("m"),j.month+1);case/MM/.test(d):d=d.replace(e("MM"),this.loc.months[j.month]);case/M/.test(d):d=d.replace(e("M"),g.monthsShort[j.month]);case/ii/.test(d):d=d.replace(e("ii"),j.fullMinutes);case/i/.test(d):d=d.replace(e("i"),j.minutes);case/hh/.test(d):d=d.replace(e("hh"),k);case/h/.test(d):d=d.replace(e("h"),l);case/yyyy/.test(d):d=d.replace(e("yyyy"),j.year);case/yyyy1/.test(d):d=d.replace(e("yyyy1"),i[0]);case/yyyy2/.test(d):d=d.replace(e("yyyy2"),i[1]);case/yy/.test(d):d=d.replace(e("yy"),j.year.toString().slice(-2))}return d},_getWordBoundaryRegExp:function(a){return new RegExp("\\b(?=[a-zA-Z0-9äöüßÄÖÜ<])"+a+"(?![>a-zA-Z0-9äöüßÄÖÜ])")},selectDate:function(a){var b=this,c=b.opts,d=b.parsedDate,e=b.selectedDates,g=e.length,h="";if(Array.isArray(a))return void a.forEach(function(a){b.selectDate(a)});if(a instanceof Date){if(this.lastSelectedDate=a,this.timepicker&&this.timepicker._setTime(a),b._trigger("selectDate",a),this.timepicker&&(a.setHours(this.timepicker.hours),a.setMinutes(this.timepicker.minutes)),"days"==b.view&&a.getMonth()!=d.month&&c.moveToOtherMonthsOnSelect&&(h=new Date(a.getFullYear(),a.getMonth(),1)),"years"==b.view&&a.getFullYear()!=d.year&&c.moveToOtherYearsOnSelect&&(h=new Date(a.getFullYear(),0,1)),h&&(b.silent=!0,b.date=h,b.silent=!1,b.nav._render()),c.multipleDates&&!c.range){if(g===c.multipleDates)return;b._isSelected(a)||b.selectedDates.push(a)}else c.range?2==g?(b.selectedDates=[a],b.minRange=a,b.maxRange=""):1==g?(b.selectedDates.push(a),b.maxRange?b.minRange=a:b.maxRange=a,f.bigger(b.maxRange,b.minRange)&&(b.maxRange=b.minRange,b.minRange=a),b.selectedDates=[b.minRange,b.maxRange]):(b.selectedDates=[a],b.minRange=a):b.selectedDates=[a];b._setInputValue(),c.onSelect&&b._triggerOnChange(),c.autoClose&&!this.timepickerIsActive&&(c.multipleDates||c.range?c.range&&2==b.selectedDates.length&&b.hide():b.hide()),b.views[this.currentView]._render()}},removeDate:function(a){var b=this.selectedDates,c=this;if(a instanceof Date)return b.some(function(d,e){return f.isSame(d,a)?(b.splice(e,1),c.selectedDates.length?c.lastSelectedDate=c.selectedDates[c.selectedDates.length-1]:(c.minRange="",c.maxRange="",c.lastSelectedDate=""),c.views[c.currentView]._render(),c._setInputValue(),c.opts.onSelect&&c._triggerOnChange(),!0):void 0})},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(a,c){var d=arguments.length,e=this.lastSelectedDate;return 2==d?this.opts[a]=c:1==d&&"object"==typeof a&&(this.opts=b.extend(!0,this.opts,a)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(e&&this.timepicker._handleDate(e),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),e&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var a=this.date.getTime();this.silent=!0,this.minTime>a&&(this.date=this.minDate),this.maxTime<a&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(a,b){var c=!1;return this.selectedDates.some(function(d){return f.isSame(d,a,b)?(c=d,!0):void 0}),c},_setInputValue:function(){var a,b=this,c=b.opts,d=b.loc.dateFormat,e=c.altFieldDateFormat,f=b.selectedDates.map(function(a){return b.formatDate(d,a)});c.altField&&b.$altField.length&&(a=this.selectedDates.map(function(a){return b.formatDate(e,a)}),a=a.join(this.opts.multipleDatesSeparator),this.$altField.val(a)),f=f.join(this.opts.multipleDatesSeparator),this.$el.val(f)},_isInRange:function(a,b){var c=a.getTime(),d=f.getParsedDate(a),e=f.getParsedDate(this.minDate),g=f.getParsedDate(this.maxDate),h=new Date(d.year,d.month,e.date).getTime(),i=new Date(d.year,d.month,g.date).getTime(),j={day:c>=this.minTime&&c<=this.maxTime,month:h>=this.minTime&&i<=this.maxTime,year:d.year>=e.year&&d.year<=g.year};return b?j[b]:j.day},_getDimensions:function(a){var b=a.offset();return{width:a.outerWidth(),height:a.outerHeight(),left:b.left,top:b.top}},_getDateFromCell:function(a){var b=this.parsedDate,d=a.data("year")||b.year,e=a.data("month")==c?b.month:a.data("month"),f=a.data("date")||1;return new Date(d,e,f)},_setPositionClasses:function(a){a=a.split(" ");var b=a[0],c=a[1],d="datepicker -"+b+"-"+c+"- -from-"+b+"-";this.visible&&(d+=" active"),this.$datepicker.removeAttr("class").addClass(d)},setPosition:function(a){a=a||this.opts.position;var b,c,d=this._getDimensions(this.$el),e=this._getDimensions(this.$datepicker),f=a.split(" "),g=this.opts.offset,h=f[0],i=f[1];switch(h){case"top":b=d.top-e.height-g;break;case"right":c=d.left+d.width+g;break;case"bottom":b=d.top+d.height+g;break;case"left":c=d.left-e.width-g}switch(i){case"top":b=d.top;break;case"right":c=d.left+d.width-e.width;break;case"bottom":b=d.top+d.height-e.height;break;case"left":c=d.left;break;case"center":/left|right/.test(h)?b=d.top+d.height/2-e.height/2:c=d.left+d.width/2-e.width/2}this.$datepicker.css({left:c,top:b})},show:function(){this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0},hide:function(){this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur()},down:function(a){this._changeView(a,"down")},up:function(a){this._changeView(a,"up")},_changeView:function(a,b){a=a||this.focused||this.date;var c="up"==b?this.viewIndex+1:this.viewIndex-1;c>2&&(c=2),0>c&&(c=0),this.silent=!0,this.date=new Date(a.getFullYear(),a.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[c]},_handleHotKey:function(a){var b,c,d,e=f.getParsedDate(this._getFocusedDate()),g=this.opts,h=!1,i=!1,j=!1,k=e.year,l=e.month,m=e.date;switch(a){case"ctrlRight":case"ctrlUp":l+=1,h=!0;break;case"ctrlLeft":case"ctrlDown":l-=1,h=!0;break;case"shiftRight":case"shiftUp":i=!0,k+=1;break;case"shiftLeft":case"shiftDown":i=!0,k-=1;break;case"altRight":case"altUp":j=!0,k+=10;break;case"altLeft":case"altDown":j=!0,k-=10;break;case"ctrlShiftUp":this.up()}d=f.getDaysCount(new Date(k,l)),c=new Date(k,l,m),m>d&&(m=d),c.getTime()<this.minTime?c=this.minDate:c.getTime()>this.maxTime&&(c=this.maxDate),this.focused=c,b=f.getParsedDate(c),h&&g.onChangeMonth&&g.onChangeMonth(b.month,b.year),i&&g.onChangeYear&&g.onChangeYear(b.year),j&&g.onChangeDecade&&g.onChangeDecade(this.curDecade)},_registerKey:function(a){var b=this.keys.some(function(b){return b==a});b||this.keys.push(a)},_unRegisterKey:function(a){var b=this.keys.indexOf(a);this.keys.splice(b,1)},_isHotKeyPressed:function(){var a,b=!1,c=this,d=this.keys.sort();for(var e in l)a=l[e],d.length==a.length&&a.every(function(a,b){return a==d[b]})&&(c._trigger("hotKey",e),b=!0);return b},_trigger:function(a,b){this.$el.trigger(a,b)},_focusNextCell:function(a,b){b=b||this.cellType;var c=f.getParsedDate(this._getFocusedDate()),d=c.year,e=c.month,g=c.date;if(!this._isHotKeyPressed()){switch(a){case 37:"day"==b?g-=1:"","month"==b?e-=1:"","year"==b?d-=1:"";break;case 38:"day"==b?g-=7:"","month"==b?e-=3:"","year"==b?d-=4:"";break;case 39:"day"==b?g+=1:"","month"==b?e+=1:"","year"==b?d+=1:"";break;case 40:"day"==b?g+=7:"","month"==b?e+=3:"","year"==b?d+=4:""}var h=new Date(d,e,g);h.getTime()<this.minTime?h=this.minDate:h.getTime()>this.maxTime&&(h=this.maxDate),this.focused=h}},_getFocusedDate:function(){var a=this.focused||this.selectedDates[this.selectedDates.length-1],b=this.parsedDate;if(!a)switch(this.view){case"days":a=new Date(b.year,b.month,(new Date).getDate());break;case"months":a=new Date(b.year,b.month,1);break;case"years":a=new Date(b.year,0,1)}return a},_getCell:function(a,b){b=b||this.cellType;var c,d=f.getParsedDate(a),e='.datepicker--cell[data-year="'+d.year+'"]';switch(b){case"month":e='[data-month="'+d.month+'"]';break;case"day":e+='[data-month="'+d.month+'"][data-date="'+d.date+'"]'}return c=this.views[this.currentView].$el.find(e),c.length?c:""},destroy:function(){var a=this;a.$el.off(".adp").data("datepicker",""),a.selectedDates=[],a.focused="",a.views={},a.keys=[],a.minRange="",a.maxRange="",a.opts.inline||!a.elIsInput?a.$datepicker.closest(".datepicker-inline").remove():a.$datepicker.remove()},_onShowEvent:function(a){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(a){this.inFocus=!0},_onMouseUpDatepicker:function(a){this.inFocus=!1,a.originalEvent.inFocus=!0,a.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(a){var b=this.$el.val();b||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(a){a.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(a){a.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(a){var b=a.which;if(this._registerKey(b),b>=37&&40>=b&&(a.preventDefault(),this._focusNextCell(b)),13==b&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var c=this._isSelected(this.focused,this.cellType);c?c&&this.opts.toggleSelected&&this.removeDate(this.focused):(this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),this.selectDate(this.focused))}}27==b&&this.hide()},_onKeyUp:function(a){var b=a.which;this._unRegisterKey(b)},_onHotKey:function(a,b){this._handleHotKey(b)},_onMouseEnterCell:function(a){var c=b(a.target).closest(".datepicker--cell"),d=this._getDateFromCell(c);this.silent=!0,this.focused&&(this.focused=""),c.addClass("-focus-"),this.focused=d,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",f.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(a){var c=b(a.target).closest(".datepicker--cell");c.removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(a,b,c){var d=new Date,e=this.selectedDates,f=!1;e.length&&(f=!0,d=this.lastSelectedDate),d.setHours(b),d.setMinutes(c),f||this._getCell(d).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(d)},_onClickCell:function(a,b){this.timepicker&&(b.setHours(this.timepicker.hours),b.setMinutes(this.timepicker.minutes)),this.selectDate(b)},set focused(a){if(!a&&this.focused){var b=this._getCell(this.focused);b.length&&b.removeClass("-focus-")}this._focused=a,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",f.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange="")),this.silent||(this.date=a)},get focused(){return this._focused},get parsedDate(){return f.getParsedDate(this.date)},set date(a){return a instanceof Date?(this.currentDate=a,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),a):void 0},get date(){return this.currentDate},set view(a){return this.viewIndex=this.viewIndexes.indexOf(a),this.viewIndex<0?void 0:(this.prevView=this.currentView,this.currentView=a,this.inited&&(this.views[a]?this.views[a]._render():this.views[a]=new b.fn.datepicker.Body(this,a,this.opts),this.views[this.prevView].hide(),this.views[a].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(a),this.elIsInput&&this.visible&&this.setPosition()),a)},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var a=f.getParsedDate(this.minDate);return new Date(a.year,a.month,a.date).getTime()},get maxTime(){var a=f.getParsedDate(this.maxDate);return new Date(a.year,a.month,a.date).getTime()},get curDecade(){return f.getDecade(this.date)}},f.getDaysCount=function(a){return new Date(a.getFullYear(),a.getMonth()+1,0).getDate()},f.getParsedDate=function(a){return{year:a.getFullYear(),month:a.getMonth(),fullMonth:a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,date:a.getDate(),fullDate:a.getDate()<10?"0"+a.getDate():a.getDate(),day:a.getDay(),hours:a.getHours(),fullHours:a.getHours()<10?"0"+a.getHours():a.getHours(),minutes:a.getMinutes(),fullMinutes:a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes()}},f.getDecade=function(a){var b=10*Math.floor(a.getFullYear()/10);return[b,b+9]},f.template=function(a,b){return a.replace(/#\{([\w]+)\}/g,function(a,c){return b[c]||0===b[c]?b[c]:void 0})},f.isSame=function(a,b,c){if(!a||!b)return!1;var d=f.getParsedDate(a),e=f.getParsedDate(b),g=c?c:"day",h={day:d.date==e.date&&d.month==e.month&&d.year==e.year,month:d.month==e.month&&d.year==e.year,year:d.year==e.year};return h[g]},f.less=function(a,b,c){return!(!a||!b)&&b.getTime()<a.getTime()},f.bigger=function(a,b,c){return!(!a||!b)&&b.getTime()>a.getTime()},f.getLeadingZeroNum=function(a){return parseInt(a)<10?"0"+a:a},f.resetTime=function(a){return"object"==typeof a?(a=f.getParsedDate(a),new Date(a.year,a.month,a.date)):void 0},b.fn.datepicker=function(a){return this.each(function(){if(b.data(this,g)){var c=b.data(this,g);c.opts=b.extend(!0,c.opts,a),c.update()}else b.data(this,g,new m(this,a))})},b.fn.datepicker.Constructor=m,b.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},b(function(){b(h).datepicker()})}(),function(){var a={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},d=b.fn.datepicker,e=d.Constructor;d.Body=function(a,b,c){this.d=a,this.type=b,this.opts=c,this.init()},d.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",b.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=b(a[this.type]).appendTo(this.d.$content),this.$names=b(".datepicker--days-names",this.$el),this.$cells=b(".datepicker--cells",this.$el)},_getDayNamesHtml:function(a,b,d,e){return b=b!=c?b:a,d=d?d:"",e=e!=c?e:0,e>7?d:7==b?this._getDayNamesHtml(a,0,d,++e):(d+='<div class="datepicker--day-name'+(this.d.isWeekend(b)?" -weekend-":"")+'">'+this.d.loc.daysMin[b]+"</div>",this._getDayNamesHtml(a,++b,d,++e))},_getCellContents:function(a,b){var c="datepicker--cell datepicker--cell-"+b,d=new Date,f=this.d,g=e.resetTime(f.minRange),h=e.resetTime(f.maxRange),i=f.opts,j=e.getParsedDate(a),k={},l=j.date;switch(i.onRenderCell&&(k=i.onRenderCell(a,b)||{},l=k.html?k.html:l,c+=k.classes?" "+k.classes:""),b){case"day":f.isWeekend(j.day)&&(c+=" -weekend-"),j.month!=this.d.parsedDate.month&&(c+=" -other-month-",i.selectOtherMonths||(c+=" -disabled-"),i.showOtherMonths||(l=""));break;case"month":l=f.loc[f.opts.monthsField][j.month];break;case"year":var m=f.curDecade;l=j.year,(j.year<m[0]||j.year>m[1])&&(c+=" -other-decade-",i.selectOtherYears||(c+=" -disabled-"),i.showOtherYears||(l=""))}return i.onRenderCell&&(k=i.onRenderCell(a,b)||{},l=k.html?k.html:l,c+=k.classes?" "+k.classes:""),i.range&&(e.isSame(g,a,b)&&(c+=" -range-from-"),e.isSame(h,a,b)&&(c+=" -range-to-"),1==f.selectedDates.length&&f.focused?((e.bigger(g,a)&&e.less(f.focused,a)||e.less(h,a)&&e.bigger(f.focused,a))&&(c+=" -in-range-"),e.less(h,a)&&e.isSame(f.focused,a)&&(c+=" -range-from-"),e.bigger(g,a)&&e.isSame(f.focused,a)&&(c+=" -range-to-")):2==f.selectedDates.length&&e.bigger(g,a)&&e.less(h,a)&&(c+=" -in-range-")),e.isSame(d,a,b)&&(c+=" -current-"),f.focused&&e.isSame(a,f.focused,b)&&(c+=" -focus-"),
f._isSelected(a,b)&&(c+=" -selected-"),(!f._isInRange(a,b)||k.disabled)&&(c+=" -disabled-"),{html:l,classes:c}},_getDaysHtml:function(a){var b=e.getDaysCount(a),c=new Date(a.getFullYear(),a.getMonth(),1).getDay(),d=new Date(a.getFullYear(),a.getMonth(),b).getDay(),f=c-this.d.loc.firstDay,g=6-d+this.d.loc.firstDay;f=0>f?f+7:f,g=g>6?g-7:g;for(var h,i,j=-f+1,k="",l=j,m=b+g;m>=l;l++)i=a.getFullYear(),h=a.getMonth(),k+=this._getDayHtml(new Date(i,h,l));return k},_getDayHtml:function(a){var b=this._getCellContents(a,"day");return'<div class="'+b.classes+'" data-date="'+a.getDate()+'" data-month="'+a.getMonth()+'" data-year="'+a.getFullYear()+'">'+b.html+"</div>"},_getMonthsHtml:function(a){for(var b="",c=e.getParsedDate(a),d=0;12>d;)b+=this._getMonthHtml(new Date(c.year,d)),d++;return b},_getMonthHtml:function(a){var b=this._getCellContents(a,"month");return'<div class="'+b.classes+'" data-month="'+a.getMonth()+'">'+b.html+"</div>"},_getYearsHtml:function(a){var b=(e.getParsedDate(a),e.getDecade(a)),c=b[0]-1,d="",f=c;for(f;f<=b[1]+1;f++)d+=this._getYearHtml(new Date(f,0));return d},_getYearHtml:function(a){var b=this._getCellContents(a,"year");return'<div class="'+b.classes+'" data-year="'+a.getFullYear()+'">'+b.html+"</div>"},_renderTypes:{days:function(){var a=this._getDayNamesHtml(this.d.loc.firstDay),b=this._getDaysHtml(this.d.currentDate);this.$cells.html(b),this.$names.html(a)},months:function(){var a=this._getMonthsHtml(this.d.currentDate);this.$cells.html(a)},years:function(){var a=this._getYearsHtml(this.d.currentDate);this.$cells.html(a)}},_render:function(){this._renderTypes[this.type].bind(this)()},_update:function(){var a,c,d,e=b(".datepicker--cell",this.$cells),f=this;e.each(function(e,g){c=b(this),d=f.d._getDateFromCell(b(this)),a=f._getCellContents(d,f.d.cellType),c.attr("class",a.classes)})},show:function(){this.$el.addClass("active"),this.acitve=!0},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(a){var b=a.data("date")||1,c=a.data("month")||0,d=a.data("year")||this.d.parsedDate.year,e=this.d;if(e.view!=this.opts.minView)return void e.down(new Date(d,c,b));var f=new Date(d,c,b),g=this.d._isSelected(f,this.d.cellType);g||e._trigger("clickCell",f),g&&this.opts.range?(2!=e.selectedDates.length&&!this.opts.toggleSelected||this.opts.toggleSelected)&&(e._trigger("clickCell",f),e.lastSelectedDate=g):g&&this.opts.toggleSelected&&e.removeDate(f),g&&!this.opts.toggleSelected&&(e.lastSelectedDate=g,e.opts.timepicker&&(e.timepicker._setTime(g),e.timepicker.update()))},_onClickCell:function(a){var c=b(a.target).closest(".datepicker--cell");c.hasClass("-disabled-")||this._handleClick.bind(this)(c)}}}(),function(){var a='<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',c='<div class="datepicker--buttons"></div>',d='<span class="datepicker--button" data-action="#{action}">#{label}</span>',e=b.fn.datepicker,f=e.Constructor;e.Navigation=function(a,b){this.d=a,this.opts=b,this.$buttonsContainer="",this.init()},e.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",b.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",b.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",b.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var c=this._getTitle(this.d.currentDate),d=f.template(a,b.extend({title:c},this.opts));this.d.$nav.html(d),"years"==this.d.view&&b(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(a){return this.d.formatDate(this.opts.navTitles[this.d.view],a)},_addButton:function(a){this.$buttonsContainer.length||this._addButtonsContainer();var c={action:a,label:this.d.loc[a]},e=f.template(d,c);b("[data-action="+a+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(e)},_addButtonsContainer:function(){this.d.$datepicker.append(c),this.$buttonsContainer=b(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var a=this.d.parsedDate,b=a.month,c=a.year,d=a.date;switch(this.d.view){case"days":this.d._isInRange(new Date(c,b-1,d),"month")||this._disableNav("prev"),this.d._isInRange(new Date(c,b+1,d),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(c-1,b,d),"year")||this._disableNav("prev"),this.d._isInRange(new Date(c+1,b,d),"year")||this._disableNav("next");break;case"years":this.d._isInRange(new Date(c-10,b,d),"year")||this._disableNav("prev"),this.d._isInRange(new Date(c+10,b,d),"year")||this._disableNav("next")}}},_disableNav:function(a){b('[data-action="'+a+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(a){b('[data-action="'+a+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(a){var c=b(a.target).closest("[data-action]"),d=c.data("action");this.d[d]()},_onClickNavTitle:function(a){return b(a.target).hasClass("-disabled-")?void 0:"days"==this.d.view?this.d.view="months":void(this.d.view="years")}}}(),function(){var a='<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourValue}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',c=b.fn.datepicker,d=c.Constructor;c.Timepicker=function(a,b){this.d=a,this.opts=b,this.init()},c.Timepicker.prototype={init:function(){var a="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(a="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(a,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(a){var b=d.getParsedDate(a);this._handleDate(a),this.hours=b.hours<this.minHours?this.minHours:b.hours,this.minutes=b.minutes<this.minMinutes?this.minMinutes:b.minutes},_setMinTimeFromDate:function(a){this.minHours=a.getHours(),this.minMinutes=a.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>a.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(a){this.maxHours=a.getHours(),this.maxMinutes=a.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<a.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var a=23,b=59,c=this.opts;this.minHours=c.minHours<0||c.minHours>a?0:c.minHours,this.minMinutes=c.minMinutes<0||c.minMinutes>b?0:c.minMinutes,this.maxHours=c.maxHours<0||c.maxHours>a?a:c.maxHours,this.maxMinutes=c.maxMinutes<0||c.maxMinutes>b?b:c.maxMinutes},_validateHoursMinutes:function(a){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var c=d.getLeadingZeroNum,e={hourMin:this.minHours,hourMax:c(this.maxHours),hourStep:this.opts.hoursStep,hourValue:c(this.displayHours),minMin:this.minMinutes,minMax:c(this.maxMinutes),minStep:this.opts.minutesStep,minValue:c(this.minutes)},f=d.template(a,e);this.$timepicker=b(f).appendTo(this.d.$datepicker),this.$ranges=b('[type="range"]',this.$timepicker),this.$hours=b('[name="hours"]',this.$timepicker),this.$minutes=b('[name="minutes"]',this.$timepicker),this.$hoursText=b(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=b(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=b('<span class="datepicker--time-current-ampm">').appendTo(b(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var a=d.getLeadingZeroNum(this.displayHours),b=d.getLeadingZeroNum(this.minutes);this.$hoursText.html(a),this.$minutesText.html(b),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(a){this._setDefaultMinMaxTime(),a&&(d.isSame(a,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):d.isSame(a,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(a)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(a,b){var c=a,e=a;a instanceof Date&&(c=d.getParsedDate(a),e=c.hours);var f=b||this.d.ampm,g="am";if(f)switch(!0){case 0==e:e=12;break;case 12==e:g="pm";break;case e>11:e-=12,g="pm"}return{hours:e,dayPeriod:g}},set hours(a){this._hours=a;var b=this._getValidHoursFromDate(a);this.displayHours=b.hours,this.dayPeriod=b.dayPeriod},get hours(){return this._hours},_onChangeRange:function(a){var c=b(a.target),d=c.attr("name");this.d.timepickerIsActive=!0,this[d]=c.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(a,b){this._handleDate(b),this.update()},_onMouseEnterRange:function(a){var c=b(a.target).attr("name");b(".datepicker--time-current-"+c,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(a){var c=b(a.target).attr("name");this.d.inFocus||b(".datepicker--time-current-"+c,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(a){this.d.timepickerIsActive=!1}}}()}(window,jQuery),$(document).ready(function(){function a(){var a=(new Date).toUTCString();setTimeout(function(){$(".soon").addClass("soon_isActive")},2e3),localStorage.setItem("popup_021216",a)}var b=new Date,c=localStorage.getItem("popup_021216"),d=7;if(null==c)a();else{var e=new Date(c);e.setDate(e.getDate()+d),e<=b&&a()}}),$(document).ready(function(){headerScroll(),$(document).scroll(function(){headerScroll()})}),$(document).ready(function(){$("input[type=tel]").mask("+7 000 000-00-00",{placeholder:"+7 ___ ___-__-__"})}),$(document).ready(function(){$(".js-timepicker-bar").timepicker({minTime:"12:00pm",maxTime:"11:30pm",timeFormat:"H:i",appendTo:".js-timepicker-bar-dropdown"}),$(".js-timepicker-bar").mask("00:00"),$(".js-timepicker-space").timepicker({minTime:"12:00pm",maxTime:"11:30pm",timeFormat:"H:i",appendTo:".js-timepicker-space-dropdown"}),$(".js-timepicker-space").mask("00:00");var a=new Date,b=new Date(2016,8,8);a>b&&(b=new Date),a.setMonth(a.getMonth()+6),$(".js-datepicker-bar").datepicker({minDate:b,maxDate:a,autoClose:!0,offset:9,toggleSelected:!1,onSelect:function(a,b,c){if(null!=b){var d=new Date,e=d.getHours()+":"+d.getMinutes();d.setHours(0,0,0,0)==b.setHours(0,0,0,0)?$(".js-timepicker-bar").timepicker("option","disableTimeRanges",[["12:00pm",e]]):$(".js-timepicker-bar").timepicker("option","disableTimeRanges",[])}}}),$(".js-datepicker-bar").mask("00.00.0000"),$(".js-datepicker-space").datepicker({minDate:b,maxDate:a,autoClose:!0,offset:9,toggleSelected:!1,onSelect:function(a,b,c){if(null!=b){var d=new Date,e=d.getHours()+":"+d.getMinutes();d.setHours(0,0,0,0)==b.setHours(0,0,0,0)?$(".js-timepicker-space").timepicker("option","disableTimeRanges",[["12:00pm",e]]):$(".js-timepicker-space").timepicker("option","disableTimeRanges",[])}}}),$(".js-datepicker-space").mask("00.00.0000")}),$(document).ready(function(){fillUserData()}),$(document).ready(function(){$(".breadcrumbs").click(function(){toggleCatalog()})}),$(document).ready(function(){$(".modalBack").click(function(){closeMenuMobile(),hideBookForm(),hideContactForm(),hideAllGoods(),hidePopupMenu()})}),$(document).ready(function(){function a(){b&&($(".callback").removeClass("callback_isActive"),setTimeout(function(){$(".callback").removeClass("callback_success")},180),b=!1)}var b=!1;$(".headerSide__phone").hover(function(){b=!1,setCallbackPosition(".headerSide__phone",!0),setTimeout(function(){$(".callback").addClass("callback_top"),$(".callback").removeClass("callback_bottom"),$(".callback").addClass("callback_isActive")},100)},function(){b=!0;var c=1;$(".callback").hasClass("callback_success")&&(c=2),setTimeout(a,1e3*c)}),$(".footer__phone").hover(function(){b=!1,setCallbackPosition(".footer__phone"),setTimeout(function(){$(".callback").addClass("callback_bottom"),$(".callback").removeClass("callback_top"),$(".callback").addClass("callback_isActive")},100)},function(){b=!0;var c=1;$(".callback").hasClass("callback_success")&&(c=2),setTimeout(a,1e3*c)}),$(".callback").hover(function(){b=!1},function(){b=!0;var c=1;$(".callback").hasClass("callback_success")&&(c=2),setTimeout(a,1e3*c)})}),$(document).ready(function(){function a(){b&&($(".minicart").removeClass("minicart_isActive"),b=!1)}var b=!1;$(".minicart").hover(function(){$(".minicart").hasClass("minicart_notEmpty")&&(b=!1,$(".minicart").addClass("minicart_isActive"))},function(){b=!0,setTimeout(a,500)}),$(".minicart__title").on("click",function(a){$(".minicart").hasClass("minicart_isActive")?$(".minicart").removeClass("minicart_isActive"):$(".minicart").hasClass("minicart_notEmpty")&&$(".minicart").addClass("minicart_isActive")})}),$(document).ready(function(){$(".header__mobileNavTrigger").click(function(){var a=$(".header__nav");a.hasClass("header__nav_isActive")?closeMenuMobile():(hideCatalog(),$(".hamburger").addClass("is-active"),a.addClass("header__nav_isActive"),hideBookForm(),$("body").addClass("modal_open"))}),$(".header__nav button").each(function(){$(this).on("click",closeMenuMobile)})}),NodeList.prototype.forEach=Array.prototype.forEach,goods=function(){function a(a,b){a.classList.contains("good_isActive")?(2==b&&(c=!0),1!=b&&(document.body.classList.remove("modal_open"),document.body.classList.remove("good_open"),a.classList.remove("good_isActive"),a.classList.add("good_isInactive"))):(2==b||c||(document.body.classList.add("modal_open"),document.body.classList.add("good_open"),a.classList.remove("good_isInactive"),a.classList.add("good_isActive")),c=!1)}var b=document.querySelectorAll(".good");if(null!=b){b.forEach(function(b,c,d){b.querySelector(".good__more button").addEventListener("click",function(c){a(b)}),b.querySelector(".good__picture").addEventListener("click",function(c){a(b,1)}),b.querySelector(".good__title").addEventListener("click",function(c){a(b,1)}),b.querySelector(".good__close").addEventListener("click",function(c){a(b,2)}),b.querySelector(".goodWrap").addEventListener("click",function(c){a(b)}),b.querySelector(".goodContent").addEventListener("click",function(c){a(b)})});var c}}(),carousel=function(){function a(a){j.classList.remove("carousel__item_isActive"),k.classList.remove("carousel__bullet_isActive"),h+=a,a===-1&&h<0&&(h=i-1),1!==a||f[h]||(h=0),j=f[h],k=g[h],j.classList.add("carousel__item_isActive"),k.classList.add("carousel__bullet_isActive")}function b(a){j.classList.remove("carousel__item_isActive"),k.classList.remove("carousel__bullet_isActive"),h=a,j=f[h],k=g[h],j.classList.add("carousel__item_isActive"),k.classList.add("carousel__bullet_isActive")}var c=document.querySelector(".carouselWrap");if(null!=c){var d=c.querySelector(".next"),e=c.querySelector(".prev"),f=c.querySelectorAll(".carouselList > li"),g=c.querySelectorAll(".carouselIndicators li"),h=0,i=f.length,j=f[0],k=g[0];d.addEventListener("click",function(b){a(1)}),e.addEventListener("click",function(b){a(-1)}),g.forEach(function(a,c,d){a.addEventListener("click",function(a){b(c)})}),a(0)}}(),$(document).ready(function(){setTimeout(removeUtms,3e3)}),$(document).ajaxStart(function(){$(".js-form-loader").each(function(){$(this).addClass("btn_loading"),$(this).prop("disabled",!0)})}),$(document).ajaxStop(function(){$(".js-form-loader").each(function(){$(this).removeClass("btn_loading"),$(this).prop("disabled",!1)})});var updownElem=document.createElement("div");updownElem.id="updown";var child=document.createElement("div");child.id="updown-container",updownElem.appendChild(child);var pageYLabel=0;updownElem.onclick=function(){var a=window.pageYOffset||document.documentElement.scrollTop;switch(this.className){case"up":pageYLabel=a,window.scrollTo(0,0),this.className="down";break;case"down":window.scrollTo(0,pageYLabel),this.className="up"}},setTimeout("document.body.appendChild(updownElem)",3e3),window.onscroll=function(){var a=window.pageYOffset||document.documentElement.scrollTop,b=document.documentElement.clientHeight;switch(updownElem.className){case"":a<b&&(updownElem.className="up");break;case"up":0==a&&(updownElem.className="");break;case"down":0!=a&&(updownElem.className="up",pageYLabel=0)}},updownResize(),window.onresize=updownResize,$(document).ready(function(){updateCart(1)});var cartTotal=0;$(".js-cart-add").on("click",addToCart),$(".js-cart-plus").on("click",plusToCart),$(".js-cart-minus").on("click",minusToCart),$(".js-cart-rm").on("click",removeFromCart),$("input[type=radio][name=o-pay]").change(function(){var a="Оформить и оплатить заказ";"o-pay_1"==this.value&&(a="Оформить заказ"),$(".js-order-send").html(a)});